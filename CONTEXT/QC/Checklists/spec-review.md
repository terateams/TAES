# Spec 评审标准 (Spec Review)

> **定位**：确保 Intent 清晰到 AI 可执行的评审规范  
> 版本：v1.0 | 更新日期：2026-01-03 | 维护者：QA Architect

---

## 1) 概述

### 1.1 什么是 Spec Review？

**Spec Review** 是对 MISSION.md（任务规格说明）的质量评审，目标是确保：
- AI 能准确理解任务意图
- 产出物可被明确验收
- 执行边界清晰无歧义

### 1.2 为什么需要 Spec Review？

| 没有 Spec Review | 有 Spec Review |
|------------------|----------------|
| AI 产出偏离预期 | 首次产出即达标 |
| 反复修改、迭代轮次多 | Iteration Rounds ≤ 3 |
| 验收时扯皮 | Pass/Fail 一目了然 |
| 无法复制经验 | 形成 Spec 模板库 |

### 1.3 评审时机

```
┌─────────────────────────────────────────────────────────────┐
│   MISSION.md 初稿完成 → [Spec Review] → Kickoff Checklist   │
│                            ↑                                │
│                        你在这里                              │
└─────────────────────────────────────────────────────────────┘
```

---

## 2) 评分体系

### 2.1 四维度评分模型

| 维度 | 权重 | 评估内容 | 满分 |
|------|------|----------|------|
| **清晰度 (Clarity)** | 30% | 任务描述是否无歧义 | 30 |
| **可执行性 (Executability)** | 25% | AI 能否理解并执行 | 25 |
| **可验收性 (Acceptability)** | 25% | Pass/Fail 是否可判定 | 25 |
| **范围约束 (Boundary)** | 20% | 边界是否清晰 | 20 |

**总分 = 各维度得分之和（满分 100 分）**

### 2.2 评分等级

| 等级 | 分数范围 | 判定 | 后续动作 |
|------|----------|------|----------|
| **A** | 90-100 | 优秀 | 直接进入执行 |
| **B** | 80-89 | 达标 | 可进入执行 |
| **C** | 60-79 | 需改进 | 修改后重审 |
| **D** | < 60 | 不合格 | 打回重写 |

**启动门槛**：Spec Quality Score ≥ 80 分

---

## 3) 各维度评分细则

### 3.1 清晰度 (Clarity) — 30 分

> **核心问题**：读完 MISSION.md，是否能准确说出"要做什么"？

| 分数 | 标准 | 示例 |
|------|------|------|
| **25-30** | 任务描述精准，无任何歧义 | "撰写 API 接口文档，包含 /users 和 /orders 两个端点的请求/响应示例" |
| **15-24** | 基本清晰，有少量模糊点 | "撰写 API 文档，包含主要端点说明" |
| **5-14** | 较多歧义，需要追问才能理解 | "写个接口文档" |
| **0-4** | 无法理解意图 | "优化一下文档" |

**检查清单**：

| # | 检查项 | 扣分规则 |
|---|--------|----------|
| 1 | 任务目标是否用一句话说清？ | 无：-10 分 |
| 2 | 是否有背景/上下文说明？ | 无：-5 分 |
| 3 | 专业术语是否有解释？ | 有未解释术语：-3 分/个 |
| 4 | 是否有歧义表述？ | 有歧义：-5 分/处 |

**歧义表述示例**：

| ❌ 歧义表述 | ✅ 清晰表述 |
|-------------|-------------|
| "写个好文档" | "撰写 API 文档，包含请求/响应示例" |
| "尽快完成" | "3 天内完成" |
| "参考之前的风格" | "参考 [具体文件链接] 的风格" |
| "主要功能" | "用户登录、注册、密码重置 3 个功能" |

### 3.2 可执行性 (Executability) — 25 分

> **核心问题**：AI 读完 MISSION.md，能否直接开始工作？

| 分数 | 标准 | 示例 |
|------|------|------|
| **20-25** | AI 可直接执行，无需额外信息 | 提供了模板、示例、参考文件 |
| **10-19** | 需要少量补充信息 | 缺少模板但有清晰格式要求 |
| **5-9** | 需要大量补充才能执行 | 只有目标，无任何执行指引 |
| **0-4** | 超出 AI 能力范围 | 需要访问外部系统/人工判断 |

**检查清单**：

| # | 检查项 | 扣分规则 |
|---|--------|----------|
| 1 | 输入材料是否齐全？ | 缺失关键输入：-8 分 |
| 2 | 是否提供模板/示例？ | 无模板且任务复杂：-5 分 |
| 3 | 任务是否在 AI 能力范围内？ | 超出能力：-10 分 |
| 4 | 依赖项是否已准备好？ | 有未满足依赖：-5 分 |

**AI 能力边界参考**：

| ✅ AI 擅长 | ❌ AI 不擅长 |
|------------|--------------|
| 文档撰写/翻译 | 需要实时外部数据 |
| 代码生成/重构 | 需要人工主观判断 |
| 数据分析/可视化 | 需要访问私有系统 |
| 格式转换/模板填充 | 涉及法律/合规决策 |

### 3.3 可验收性 (Acceptability) — 25 分

> **核心问题**：如何判定"完成"？

| 分数 | 标准 | 示例 |
|------|------|------|
| **20-25** | Pass/Fail 条件明确，可量化 | "覆盖 10 个 API 端点，每个有请求示例" |
| **10-19** | 有验收标准但不够具体 | "文档完整" |
| **5-9** | 验收标准模糊 | "质量要好" |
| **0-4** | 无验收标准 | 未定义 |

**检查清单**：

| # | 检查项 | 扣分规则 |
|---|--------|----------|
| 1 | 是否定义了 Pass 条件？ | 无：-10 分 |
| 2 | Pass 条件是否可量化？ | 不可量化：-5 分 |
| 3 | 是否定义了 Fail 条件？ | 无：-5 分 |
| 4 | 是否有 Eval 方法？ | 无：-5 分 |

**验收标准示例**：

```markdown
## 验收标准

### Pass 条件（全部满足）
- [ ] 覆盖 /users, /orders, /products 三个 API 模块
- [ ] 每个端点包含：描述、请求参数、响应格式、示例
- [ ] 代码示例可直接运行（curl 命令）
- [ ] 无明显语法错误

### Fail 条件（任一触发）
- [ ] 缺少任一 API 模块
- [ ] 示例代码无法运行
- [ ] 格式严重不符合模板
```

### 3.4 范围约束 (Boundary) — 20 分

> **核心问题**：什么不做？什么时候完成？

| 分数 | 标准 | 示例 |
|------|------|------|
| **15-20** | 边界清晰，不包含项明确 | "只覆盖 REST API，不包含 GraphQL" |
| **8-14** | 有边界但不够具体 | "主要 API" |
| **3-7** | 边界模糊 | 未说明范围 |
| **0-2** | 无边界定义 | 可能无限扩展 |

**检查清单**：

| # | 检查项 | 扣分规则 |
|---|--------|----------|
| 1 | 是否定义了时间边界？ | 无：-5 分 |
| 2 | 是否定义了范围边界？ | 无：-5 分 |
| 3 | 是否说明"不包含"什么？ | 无：-5 分 |
| 4 | 依赖/前置条件是否说明？ | 无：-3 分 |

**范围约束示例**：

```markdown
## 范围约束

### 时间
- 截止日期：2026-01-10
- 预计工时：8 小时

### 包含
- REST API 文档（/users, /orders, /products）
- 请求/响应示例

### 不包含
- GraphQL API
- SDK 代码生成
- 性能测试报告

### 依赖
- API 规格文件已就绪：[链接]
- 测试环境可用
```

---

## 4) 评审流程

### 4.1 标准流程

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│ Owner 提交   │ ──→ │ Reviewer    │ ──→ │ 评审结果     │
│ MISSION.md  │     │ 四维度评分   │     │ (A/B/C/D)   │
└─────────────┘     └─────────────┘     └─────────────┘
                           │
                           ↓
              ┌─────────────────────────┐
              │ ≥ 80 分：通过，进入执行   │
              │ < 80 分：修改后重审      │
              └─────────────────────────┘
```

### 4.2 角色职责

| 角色 | 职责 |
|------|------|
| **Owner** | 提交 MISSION.md，根据反馈修改 |
| **Reviewer** | 按四维度评分，给出改进建议 |
| **Architect** | 复杂任务的技术可行性评估 |

### 4.3 评审记录模板

```markdown
## Spec Review Report

**Mission**: [名称]
**Repo**: [org/repo]
**Reviewer**: @[用户名]
**评审日期**: YYYY-MM-DD

### 评分

| 维度 | 权重 | 得分 | 扣分说明 |
|------|------|------|----------|
| 清晰度 | 30% | __/30 | |
| 可执行性 | 25% | __/25 | |
| 可验收性 | 25% | __/25 | |
| 范围约束 | 20% | __/20 | |
| **总分** | 100% | __/100 | |

### 评审结果
- [ ] A (90-100) - 优秀，直接执行
- [ ] B (80-89) - 达标，可执行
- [ ] C (60-79) - 需改进，修改后重审
- [ ] D (<60) - 不合格，重写

### 改进建议
1. [具体建议 1]
2. [具体建议 2]

### Reviewer 签字
@[用户名] | YYYY-MM-DD
```

---

## 5) 快速评审工具

### 5.1 AI 辅助评审 Prompt

```markdown
请以 Spec Reviewer 身份，评审以下 MISSION.md：

---
[粘贴 MISSION.md 内容]
---

按以下维度评分（满分 100）：

1. **清晰度 (30分)**：任务描述是否无歧义？
2. **可执行性 (25分)**：AI 能否直接执行？
3. **可验收性 (25分)**：Pass/Fail 是否可判定？
4. **范围约束 (20分)**：边界是否清晰？

输出格式：
- 各维度得分及扣分原因
- 总分
- 评级（A/B/C/D）
- 具体改进建议
```

### 5.2 自检 Checklist

```markdown
## Spec 自检清单（Owner 使用）

### 清晰度
- [ ] 能用一句话说清楚任务目标
- [ ] 有背景/上下文说明
- [ ] 无歧义表述（"好"、"尽快"、"差不多"）

### 可执行性
- [ ] 输入材料齐全
- [ ] 提供了模板或示例
- [ ] 任务在 AI 能力范围内

### 可验收性
- [ ] 定义了 Pass 条件
- [ ] Pass 条件可量化/可检查
- [ ] 定义了 Fail 条件

### 范围约束
- [ ] 有截止日期
- [ ] 说明了"不包含"什么
- [ ] 依赖项已列出
```

---

## 6) 常见问题

### Q1: 谁来做 Spec Review？

| 场景 | Reviewer |
|------|----------|
| 简单任务 | Owner 自审（使用 AI 辅助） |
| 标准任务 | Peer Review（同事互审） |
| 复杂/关键任务 | Architect 评审 |

### Q2: 评审需要多长时间？

| 任务复杂度 | 建议时间 |
|------------|----------|
| 简单 | 10-15 分钟 |
| 中等 | 20-30 分钟 |
| 复杂 | 30-60 分钟 |

### Q3: 分数卡在 70-79 怎么办？

**快速提升方法**：
1. 补充验收标准（+10 分潜力）
2. 添加"不包含"说明（+5 分潜力）
3. 提供模板或示例（+5 分潜力）

---

## 7) 与其他文档的关系

| 文档 | 关系 |
|------|------|
| [mission-kickoff.md](mission-kickoff.md) | Spec Review 是 Kickoff 的前置步骤 |
| [qc-playbook.md](../qc-playbook.md) | 本文档是 §2.2 的详细展开 |
| [evidence-schema.md](../Acceptance/evidence-schema.md) | Spec Quality Score 记录在 Evidence 中 |

---

## 版本历史

| 版本 | 日期 | 变更 | 作者 |
|------|------|------|------|
| v1.0 | 2026-01-03 | 初始版本 | QA Architect |
