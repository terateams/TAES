# 📋 Policies - 状态切换策略

> Worktime > policies

## 状态转换规则

### STANDBY → ACTIVE

| 触发条件 | 响应时间 | 说明 |
|----------|----------|------|
| 到达工作时段 | 自动 | 按 schedule 定义 |
| 手动签到 | 即时 | 成员主动上线 |
| 紧急召回 | <5min | 管理员触发 |
| 会议开始 | 自动 | 日历事件触发 |

### ACTIVE → STANDBY

| 触发条件 | 延迟 | 说明 |
|----------|------|------|
| 离开工作时段 | 15min 缓冲 | 避免频繁切换 |
| 手动签退 | 即时 | 成员主动下线 |
| 闲置超时 | 30min | 无活动自动降级 |
| 网络异常 | 自动 | 保护模式 |

### → OFFLINE

| 触发条件 | 说明 |
|----------|------|
| 手动设置 | 成员标记离线 |
| 长期无响应 | >24h STANDBY 无活动 |
| 休假状态 | 日历标记 |

## 降级策略

当资源紧张或成本超预算时，自动降级：

### Level 1: 软降级
```yaml
trigger: 成本达到预算 80%
actions:
  - 非核心时段提前切 STANDBY
  - 大文件同步延后
  - AI 请求合并批处理
```

### Level 2: 中降级
```yaml
trigger: 成本达到预算 95%
actions:
  - 仅保留核心时间 ACTIVE
  - 禁用视频会议
  - AI 仅限文本模式
```

### Level 3: 硬降级
```yaml
trigger: 成本超预算 或 紧急情况
actions:
  - 全员 STANDBY
  - 仅值班人员可 ACTIVE
  - 需管理员审批恢复
```

## 紧急恢复

### 快速上线流程
```
1. 管理员发起紧急召回
2. 通知发送至值班群
3. 成员确认响应
4. 分配 ACTIVE 资源
5. 问题解决后恢复常规
```

### 联系方式
```yaml
emergency_contacts:
  primary: 值班管理员
  secondary: IT 支持
  escalation: 部门负责人
channels:
  - 企业微信 @oncall
  - 电话 (紧急)
```

## 成本监控

### 日报
```
- 各状态时长统计
- 资源消耗明细
- 异常事件记录
```

### 周报
```
- 成本趋势分析
- 与预算对比
- 优化建议
```

### 月度回顾
```
- 调整排班策略
- 更新降级阈值
- 规划下月预算
```
